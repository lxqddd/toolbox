import{u}from"./CnPcCPq5.js";import{d as h,r as l,t as p,v as g,z as d,A as r,x as o,B as x}from"./CWvSmQcJ.js";import{_ as w,B as E}from"./GvX15OVB.js";import"./_c0DAfno.js";const B={class:"flex flex-col flex-1 min-h-0 p-4"},I={class:"flex flex-1"},C={class:"flex-1"},R=["src"],z={class:"flex-1 h-100%"},L=h({__name:"index",setup(N){u({script:[{src:"https://docs.opencv.org/4.x/opencv.js",defer:!0}]});const c=l(),n=l(),i=l(""),_=async t=>{const e=t.file.file;e&&(i.value=URL.createObjectURL(e),c.value.onload=f)},f=()=>{const t=c.value,e=n.value,s=e.getContext("2d");e.width=t.width,e.height=t.height,s.drawImage(t,0,0,t.width*1.5,t.height*1.5),typeof cv<"u"?(console.log("hello world",cv),cv.getBuildInformation&&(console.log("OpenCV.js is loaded"),m(),v())):console.error("OpenCV.js is not loaded")},m=()=>{const t=n.value,e=cv.imread(t),s=new cv.Mat;cv.bilateralFilter(e,s,9,75,75,cv.BORDER_DEFAULT),cv.imshow(t,s),e.delete(),s.delete()},v=()=>{const t=n.value;let e=cv.imread(t),s=new cv.Mat,a=new cv.Size(e.cols*2,e.rows*2);cv.resize(e,s,a,0,0,cv.INTER_LINEAR),cv.imshow(t,s),e.delete(),s.delete()};return(t,e)=>{const s=E,a=w;return p(),g("div",B,[d(a,{"default-upload":!1,"show-file-list":!1,onChange:_},{default:r(()=>[d(s,null,{default:r(()=>[x("选择图片")]),_:1})]),_:1}),o("div",I,[o("div",C,[o("img",{ref_key:"img",ref:c,src:i.value,alt:""},null,8,R)]),o("div",z,[o("canvas",{ref_key:"canvas",ref:n},null,512)])])])}}});export{L as default};
